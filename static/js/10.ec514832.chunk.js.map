{"version":3,"sources":["services/hashnode.service.js","routes/mainApp/blog/blogDetail/blogDetail.route.js"],"names":["hashnodeAxios","axios","create","baseURL","timeout","headers","Authorization","source","CancelToken","getBlogList","a","post","query","cancelToken","token","res","data","publication","user","posts","axiosErrorHandler","getBlogDetail","id","undefined","BlogDetailRoute","match","useState","loading","setLoading","blogDetail","setBlogDetail","useEffect","slugId","params","blogId","split","reverse","getBlogDetailWrapper","className","contentMarkdown","title","coverImage","detailMarkdown","renderBlogDetail"],"mappings":"4OAGMA,EAAgBC,IAAMC,OAAO,CACjCC,QAAS,2BACTC,QAAS,IACTC,QAAS,CACP,eAAgB,mBAChBC,cAAe,0CAKbC,EADcN,IAAMO,YACCD,SAEdE,EAAW,uCAAG,gCAAAC,EAAA,+EAELV,EAAcW,KAC9B,GACA,CACEC,MAAM,6RAcR,CAAEC,YAAaN,EAAOO,QAnBD,cAEjBC,EAFiB,OAqBfC,EAASD,EAATC,KACFC,EAAcD,EAAKA,KAAKE,KAAKD,YAtBZ,kBAuBA,OAAhBA,EAAuB,GAAKA,EAAYE,OAvBxB,gCAyBvBC,YAAkB,EAAD,IAzBM,yDAAH,qDAiCXC,EAAa,uCAAG,WAAMC,GAAN,iBAAAZ,EAAA,+EAEPV,EAAcW,KAAK,GAAI,CACvCC,MAAM,kCAAD,OACaU,EADb,2GAHkB,cAEnBP,EAFmB,OAWnBJ,EAAOI,EAAIC,KAAKA,KAAKL,KAXF,kBAYT,OAATA,OAAgBY,EAAYZ,GAZV,gCAczBS,YAAkB,EAAD,IAdQ,yDAAH,uD,+HCJXI,UAvCS,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACPC,oBAAS,GADF,mBAC9BC,EAD8B,KACrBC,EADqB,OAEDF,wBAASH,GAFR,mBAE9BM,EAF8B,KAElBC,EAFkB,KAGrCC,qBAAU,YACkB,uCAAG,8BAAArB,EAAA,6DACrBsB,EAASP,EAAMQ,OAAOD,OACtBE,EAASF,EAAOG,MAAM,KAAKC,UAAU,GAC3CR,GAAW,GAHgB,KAI3BE,EAJ2B,SAIPT,YAAca,GAJP,kCAK3BN,GAAW,GALgB,2CAAH,qDAO1BS,KACC,CAACZ,EAAMQ,OAAOD,SAoBjB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KApBqB,WACvB,GAAIL,EACF,OACE,yBAAKW,UAAU,eACb,kBAAC,IAAD,OAGE,IACEC,EAAuCV,EAAvCU,gBAAiBC,EAAsBX,EAAtBW,MAAOC,EAAeZ,EAAfY,WAChC,OACE,kBAAC,IAAD,CACEC,eAAgBH,EAChBE,WAAYA,EACZD,MAAOA,IAOLG","file":"static/js/10.ec514832.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { axiosErrorHandler } from \"../utils/errorHandler.utils\";\n\nconst hashnodeAxios = axios.create({\n  baseURL: \"https://api.hashnode.com\",\n  timeout: 5000,\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: \"7cca50ac-d08f-4ca0-a77e-655cb8cc7d94\"\n  }\n});\n\nconst cancelToken = axios.CancelToken;\nconst source = cancelToken.source();\n\nexport const getBlogList = async () => {\n  try {\n    const res = await hashnodeAxios.post(\n      \"\",\n      {\n        query: `query {\n          user(username: \"thangle\") {\n            publication {\n              posts(page:0){\n                title\n                cuid\n                slug\n                coverImage\n                dateAdded\n              }\n            }\n          }\n        }`\n      },\n      { cancelToken: source.token }\n    );\n    const { data } = res;\n    const publication = data.data.user.publication;\n    return publication === null ? [] : publication.posts;\n  } catch (error) {\n    axiosErrorHandler(error);\n  }\n};\n\nexport const cancelGetBlogList = () => {\n  source.cancel(\"getbloglist cancelled\");\n};\n\nexport const getBlogDetail = async id => {\n  try {\n    const res = await hashnodeAxios.post(\"\", {\n      query: `query {\n          post(cuid: \"${id}\"){\n            contentMarkdown,\n            title,\n            coverImage\n          }\n        }`\n    });\n    const post = res.data.data.post;\n    return post === null ? undefined : post;\n  } catch (error) {\n    axiosErrorHandler(error);\n  }\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { BlogDetail, LoadingSpinner } from \"../../../../components\";\nimport { getBlogDetail } from \"../../../../services/hashnode.service\";\n\nconst BlogDetailRoute = ({ match }) => {\n  const [loading, setLoading] = useState(true);\n  const [blogDetail, setBlogDetail] = useState(undefined);\n  useEffect(() => {\n    const getBlogDetailWrapper = async () => {\n      const slugId = match.params.slugId;\n      const blogId = slugId.split(\"-\").reverse()[0];\n      setLoading(true);\n      setBlogDetail(await getBlogDetail(blogId));\n      setLoading(false);\n    };\n    getBlogDetailWrapper();\n  }, [match.params.slugId]);\n\n  const renderBlogDetail = () => {\n    if (loading) {\n      return (\n        <div className=\"text-center\">\n          <LoadingSpinner />\n        </div>\n      );\n    } else {\n      const { contentMarkdown, title, coverImage } = blogDetail;\n      return (\n        <BlogDetail\n          detailMarkdown={contentMarkdown}\n          coverImage={coverImage}\n          title={title}\n        />\n      );\n    }\n  };\n  return (\n    <Row>\n      <Col>{renderBlogDetail()}</Col>\n    </Row>\n  );\n};\n\nexport default BlogDetailRoute;\n"],"sourceRoot":""}