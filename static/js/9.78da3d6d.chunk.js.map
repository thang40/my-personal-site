{"version":3,"sources":["services/hashnode.service.js","hooks/blogHooks.js","routes/mainApp/home/home.route.js"],"names":["hashnodeAxios","axios","create","baseURL","timeout","headers","Authorization","source","CancelToken","getBlogList","a","post","query","cancelToken","token","res","data","publication","user","posts","axiosErrorHandler","getBlogDetail","id","undefined","useBlogList","defaultValue","useState","blogList","setBlogList","loading","setIsLoading","errorMsg","setErrorMsg","useEffect","didCancel","list","HTTPTimeoutError","friendlyMsg","getBlogListWrapper","IntProfileCard","withInt","ProfileCard","IntIntroHero","IntroHero","HomeRoute","theme","useContext","themeContext","isLoading","languageContext","translate","datetimeFormat","Fragment","className","lg","length","map","blog","index","key","to","ROUTES","BLOG_ROUTE","slug","cuid","title","imageSrc","coverImage","createdDate","dateAdded"],"mappings":"2OAGMA,EAAgBC,IAAMC,OAAO,CACjCC,QAAS,2BACTC,QAAS,IACTC,QAAS,CACP,eAAgB,mBAChBC,cAAe,0CAKbC,EADcN,IAAMO,YACCD,SAEdE,EAAW,uCAAG,gCAAAC,EAAA,+EAELV,EAAcW,KAC9B,GACA,CACEC,MAAM,6RAcR,CAAEC,YAAaN,EAAOO,QAnBD,cAEjBC,EAFiB,OAqBfC,EAASD,EAATC,KACFC,EAAcD,EAAKA,KAAKE,KAAKD,YAtBZ,kBAuBA,OAAhBA,EAAuB,GAAKA,EAAYE,OAvBxB,gCAyBvBC,YAAkB,EAAD,IAzBM,yDAAH,qDAiCXC,EAAa,uCAAG,WAAMC,GAAN,iBAAAZ,EAAA,+EAEPV,EAAcW,KAAK,GAAI,CACvCC,MAAM,kCAAD,OACaU,EADb,2GAHkB,cAEnBP,EAFmB,OAWnBJ,EAAOI,EAAIC,KAAKA,KAAKL,KAXF,kBAYT,OAATA,OAAgBY,EAAYZ,GAZV,gCAczBS,YAAkB,EAAD,IAdQ,yDAAH,uD,+HC5CbI,EAAc,WAAwB,IAAvBC,EAAsB,uDAAP,GAAO,EAChBC,mBAASD,GADO,mBACzCE,EADyC,KAC/BC,EAD+B,OAEhBF,oBAAS,GAFO,mBAEzCG,EAFyC,KAEhCC,EAFgC,OAGhBJ,mBAAS,IAHO,mBAGzCK,EAHyC,KAG/BC,EAH+B,KA0BhD,OAtBAC,qBAAU,WACR,IAAIC,GAAY,EAiBhB,OAhBwB,uCAAG,4BAAAxB,EAAA,+EAEJD,cAFI,QAEjB0B,EAFiB,UAGVD,IACXN,EAAYO,GACZL,GAAa,IALQ,qDAQnB,gBAAiBM,KARE,iBASrBJ,EAAY,KAAMK,aATG,4FAAH,oDAexBC,GACO,WACLJ,GAAY,KAEb,IACI,CAACP,EAAUE,EAASE,K,kLChBvBQ,EAAiBC,YAAQC,KACzBC,EAAeF,YAAQG,KAEhBC,EAAY,WAAO,IACtBC,EAAUC,qBAAWC,KAArBF,MADqB,EAEWrB,cAFX,mBAEtBG,EAFsB,KAEZqB,EAFY,KAEDjB,EAFC,OAGSe,qBAAWG,KAAzCC,EAHqB,EAGrBA,UAAWC,EAHU,EAGVA,eA8BnB,OACE,kBAAC,IAAMC,SAAP,KACE,iCACE,kBAAC,IAAD,CAAKC,UAAU,sBACb,kBAAC,IAAD,CAAKC,GAAG,KACN,kBAACZ,EAAD,OAEF,kBAAC,IAAD,CAAKY,GAAG,IAAID,UAAU,uBACpB,kBAACd,EAAD,CAAgBM,MAAOA,OAI7B,6BAASQ,UAAU,QACjB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,4BAAKH,EAAU,oBA1CnBnB,EAASwB,OACJ,yBAAKF,UAAU,eAAeH,EAAUnB,IAE7CiB,EAEA,yBAAKK,UAAU,eACb,kBAAC,IAAD,OAIkB,IAApB1B,EAAS4B,OACJ,KAEF5B,EAAS6B,KAAI,SAACC,EAAMC,GAAP,OAClB,kBAAC,IAAD,CACEC,IAAKD,EACLE,GAAE,UAAKC,IAAOC,WAAZ,YAA0BL,EAAKM,KAAO,IAAMN,EAAKO,OAEnD,kBAAC,IAAD,CACEX,UAAU,OACVY,MAAOR,EAAKQ,MACZC,SAAUT,EAAKU,WACfC,YAAajB,EAAeM,EAAKY,sBA6B5BzB","file":"static/js/9.78da3d6d.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { axiosErrorHandler } from \"../utils/errorHandler.utils\";\n\nconst hashnodeAxios = axios.create({\n  baseURL: \"https://api.hashnode.com\",\n  timeout: 5000,\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: \"7cca50ac-d08f-4ca0-a77e-655cb8cc7d94\"\n  }\n});\n\nconst cancelToken = axios.CancelToken;\nconst source = cancelToken.source();\n\nexport const getBlogList = async () => {\n  try {\n    const res = await hashnodeAxios.post(\n      \"\",\n      {\n        query: `query {\n          user(username: \"thangle\") {\n            publication {\n              posts(page:0){\n                title\n                cuid\n                slug\n                coverImage\n                dateAdded\n              }\n            }\n          }\n        }`\n      },\n      { cancelToken: source.token }\n    );\n    const { data } = res;\n    const publication = data.data.user.publication;\n    return publication === null ? [] : publication.posts;\n  } catch (error) {\n    axiosErrorHandler(error);\n  }\n};\n\nexport const cancelGetBlogList = () => {\n  source.cancel(\"getbloglist cancelled\");\n};\n\nexport const getBlogDetail = async id => {\n  try {\n    const res = await hashnodeAxios.post(\"\", {\n      query: `query {\n          post(cuid: \"${id}\"){\n            contentMarkdown,\n            title,\n            coverImage\n          }\n        }`\n    });\n    const post = res.data.data.post;\n    return post === null ? undefined : post;\n  } catch (error) {\n    axiosErrorHandler(error);\n  }\n};\n","import { useEffect, useState } from \"react\";\nimport { getBlogList } from \"../services/hashnode.service\";\nimport { HTTPTimeoutError } from \"../commons/types/errors\";\n\nexport const useBlogList = (defaultValue = []) => {\n  const [blogList, setBlogList] = useState(defaultValue);\n  const [loading, setIsLoading] = useState(true);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  useEffect(() => {\n    let didCancel = false;\n    const getBlogListWrapper = async () => {\n      try {\n        const list = await getBlogList();\n        if (list && !didCancel) {\n          setBlogList(list);\n          setIsLoading(false);\n        }\n      } catch (error) {\n        if (error instanceof HTTPTimeoutError) {\n          setErrorMsg(error.friendlyMsg);\n        } else {\n          throw error;\n        }\n      }\n    };\n    getBlogListWrapper();\n    return () => {\n      didCancel = true;\n    };\n  }, []);\n  return [blogList, loading, errorMsg];\n};\n","import React, { useContext } from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport {\n  ProfileCard,\n  IntroHero,\n  ItemBar,\n  LoadingSpinner\n} from \"../../../components\";\nimport { Link } from \"react-router-dom\";\nimport { useBlogList } from \"../../../hooks/blogHooks\";\nimport { ROUTES } from \"../../../consts\";\nimport { withInt } from \"../../../HOCs\";\nimport { languageContext, themeContext } from \"../../../contexts\";\n\nconst IntProfileCard = withInt(ProfileCard);\nconst IntIntroHero = withInt(IntroHero);\n\nexport const HomeRoute = () => {\n  const { theme } = useContext(themeContext);\n  const [blogList, isLoading, errorMsg] = useBlogList();\n  const { translate, datetimeFormat } = useContext(languageContext);\n\n  const renderBlogList = () => {\n    if (errorMsg.length) {\n      return <div className=\"text-center\">{translate(errorMsg)}</div>;\n    }\n    if (isLoading) {\n      return (\n        <div className=\"text-center\">\n          <LoadingSpinner />\n        </div>\n      );\n    }\n    if (blogList.length === 0) {\n      return null;\n    }\n    return blogList.map((blog, index) => (\n      <Link\n        key={index}\n        to={`${ROUTES.BLOG_ROUTE}/${blog.slug + \"-\" + blog.cuid}`}\n      >\n        <ItemBar\n          className=\"mb-2\"\n          title={blog.title}\n          imageSrc={blog.coverImage}\n          createdDate={datetimeFormat(blog.dateAdded)}\n        />\n      </Link>\n    ));\n  };\n  return (\n    <React.Fragment>\n      <section>\n        <Row className=\"align-items-center\">\n          <Col lg=\"7\">\n            <IntIntroHero />\n          </Col>\n          <Col lg=\"5\" className=\"justify-content-end\">\n            <IntProfileCard theme={theme} />\n          </Col>\n        </Row>\n      </section>\n      <section className=\"mt-2\">\n        <Row>\n          <Col>\n            <h3>{translate(\"Latest Articles\")}</h3>\n            {renderBlogList()}\n          </Col>\n        </Row>\n      </section>\n    </React.Fragment>\n  );\n};\n\nexport default HomeRoute;\n"],"sourceRoot":""}