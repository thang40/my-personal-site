{"version":3,"sources":["services/hashnode.service.js","hooks/blogHooks.js","routes/mainApp/blog/blog.route.js"],"names":["hashnodeAxios","axios","create","baseURL","timeout","headers","Authorization","source","CancelToken","getBlogList","a","post","query","cancelToken","token","res","data","publication","user","posts","axiosErrorHandler","getBlogDetail","id","undefined","useBlogList","defaultValue","useState","blogList","setBlogList","loading","setIsLoading","errorMsg","setErrorMsg","useEffect","didCancel","list","HTTPTimeoutError","friendlyMsg","getBlogListWrapper","BlogRoute","theme","useContext","themeContext","isLoading","languageContext","translate","datetimeFormat","Fragment","className","length","map","blog","index","lg","md","sm","key","dateAdded"],"mappings":"2OAGMA,EAAgBC,IAAMC,OAAO,CACjCC,QAAS,2BACTC,QAAS,IACTC,QAAS,CACP,eAAgB,mBAChBC,cAAe,0CAKbC,EADcN,IAAMO,YACCD,SAEdE,EAAW,uCAAG,gCAAAC,EAAA,+EAELV,EAAcW,KAC9B,GACA,CACEC,MAAM,6RAcR,CAAEC,YAAaN,EAAOO,QAnBD,cAEjBC,EAFiB,OAqBfC,EAASD,EAATC,KACFC,EAAcD,EAAKA,KAAKE,KAAKD,YAtBZ,kBAuBA,OAAhBA,EAAuB,GAAKA,EAAYE,OAvBxB,gCAyBvBC,YAAkB,EAAD,IAzBM,yDAAH,qDAiCXC,EAAa,uCAAG,WAAMC,GAAN,iBAAAZ,EAAA,+EAEPV,EAAcW,KAAK,GAAI,CACvCC,MAAM,kCAAD,OACaU,EADb,2GAHkB,cAEnBP,EAFmB,OAWnBJ,EAAOI,EAAIC,KAAKA,KAAKL,KAXF,kBAYT,OAATA,OAAgBY,EAAYZ,GAZV,gCAczBS,YAAkB,EAAD,IAdQ,yDAAH,uD,+HC5CbI,EAAc,WAAwB,IAAvBC,EAAsB,uDAAP,GAAO,EAChBC,mBAASD,GADO,mBACzCE,EADyC,KAC/BC,EAD+B,OAEhBF,oBAAS,GAFO,mBAEzCG,EAFyC,KAEhCC,EAFgC,OAGhBJ,mBAAS,IAHO,mBAGzCK,EAHyC,KAG/BC,EAH+B,KA0BhD,OAtBAC,qBAAU,WACR,IAAIC,GAAY,EAiBhB,OAhBwB,uCAAG,4BAAAxB,EAAA,+EAEJD,cAFI,QAEjB0B,EAFiB,UAGVD,IACXN,EAAYO,GACZL,GAAa,IALQ,qDAQnB,gBAAiBM,KARE,iBASrBJ,EAAY,KAAMK,aATG,4FAAH,oDAexBC,GACO,WACLJ,GAAY,KAEb,IACI,CAACP,EAAUE,EAASE,K,+GCedQ,UAvCG,WAAO,IACfC,EAAUC,qBAAWC,KAArBF,MADc,EAEkBhB,cAFlB,mBAEfG,EAFe,KAELgB,EAFK,KAEMZ,EAFN,OAGgBU,qBAAWG,KAAzCC,EAHc,EAGdA,UAAWC,EAHG,EAGHA,eA4BnB,OACE,kBAAC,IAAMC,SAAP,KACE,wBAAIC,UAAU,QAAQH,EAAU,UAChC,kBAAC,IAAD,KA5BEd,EAASkB,OACJ,kBAAC,IAAD,CAAKD,UAAU,eAAeH,EAAUd,IAE7CY,EAEA,kBAAC,IAAD,CAAKK,UAAU,eACb,kBAAC,IAAD,OAIkB,IAApBrB,EAASsB,OACJ,kBAAC,IAAD,gBAEFtB,EAASuB,KAAI,SAACC,EAAMC,GAAP,OAClB,kBAAC,IAAD,CAAKC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,IAAKJ,EAAOJ,UAAU,QAC9C,kBAAC,IAAD,iBACMG,EADN,CAEEtB,SAAS,EACTW,MAAOA,EACPiB,UAAWX,EAAeK,EAAKM","file":"static/js/8.654d430f.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { axiosErrorHandler } from \"../utils/errorHandler.utils\";\n\nconst hashnodeAxios = axios.create({\n  baseURL: \"https://api.hashnode.com\",\n  timeout: 5000,\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: \"7cca50ac-d08f-4ca0-a77e-655cb8cc7d94\"\n  }\n});\n\nconst cancelToken = axios.CancelToken;\nconst source = cancelToken.source();\n\nexport const getBlogList = async () => {\n  try {\n    const res = await hashnodeAxios.post(\n      \"\",\n      {\n        query: `query {\n          user(username: \"thangle\") {\n            publication {\n              posts(page:0){\n                title\n                cuid\n                slug\n                coverImage\n                dateAdded\n              }\n            }\n          }\n        }`\n      },\n      { cancelToken: source.token }\n    );\n    const { data } = res;\n    const publication = data.data.user.publication;\n    return publication === null ? [] : publication.posts;\n  } catch (error) {\n    axiosErrorHandler(error);\n  }\n};\n\nexport const cancelGetBlogList = () => {\n  source.cancel(\"getbloglist cancelled\");\n};\n\nexport const getBlogDetail = async id => {\n  try {\n    const res = await hashnodeAxios.post(\"\", {\n      query: `query {\n          post(cuid: \"${id}\"){\n            contentMarkdown,\n            title,\n            coverImage\n          }\n        }`\n    });\n    const post = res.data.data.post;\n    return post === null ? undefined : post;\n  } catch (error) {\n    axiosErrorHandler(error);\n  }\n};\n","import { useEffect, useState } from \"react\";\nimport { getBlogList } from \"../services/hashnode.service\";\nimport { HTTPTimeoutError } from \"../commons/types/errors\";\n\nexport const useBlogList = (defaultValue = []) => {\n  const [blogList, setBlogList] = useState(defaultValue);\n  const [loading, setIsLoading] = useState(true);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  useEffect(() => {\n    let didCancel = false;\n    const getBlogListWrapper = async () => {\n      try {\n        const list = await getBlogList();\n        if (list && !didCancel) {\n          setBlogList(list);\n          setIsLoading(false);\n        }\n      } catch (error) {\n        if (error instanceof HTTPTimeoutError) {\n          setErrorMsg(error.friendlyMsg);\n        } else {\n          throw error;\n        }\n      }\n    };\n    getBlogListWrapper();\n    return () => {\n      didCancel = true;\n    };\n  }, []);\n  return [blogList, loading, errorMsg];\n};\n","import React, { useContext } from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { BlogCard, LoadingSpinner } from \"../../../components\";\nimport { useBlogList } from \"../../../hooks/blogHooks\";\nimport { languageContext, themeContext } from \"../../../contexts\";\n\nconst BlogRoute = () => {\n  const { theme } = useContext(themeContext);\n  const [blogList, isLoading, errorMsg] = useBlogList();\n  const { translate, datetimeFormat } = useContext(languageContext);\n\n  const renderBlogList = () => {\n    if (errorMsg.length) {\n      return <Col className=\"text-center\">{translate(errorMsg)}</Col>;\n    }\n    if (isLoading) {\n      return (\n        <Col className=\"text-center\">\n          <LoadingSpinner />\n        </Col>\n      );\n    }\n    if (blogList.length === 0) {\n      return <Col>No data</Col>;\n    }\n    return blogList.map((blog, index) => (\n      <Col lg={6} md={6} sm={6} key={index} className=\"mb-4\">\n        <BlogCard\n          {...blog}\n          loading={false}\n          theme={theme}\n          dateAdded={datetimeFormat(blog.dateAdded)}\n        />\n      </Col>\n    ));\n  };\n\n  return (\n    <React.Fragment>\n      <h2 className=\"mb-4\">{translate(\"Blogs\")}</h2>\n      <Row>{renderBlogList()}</Row>\n    </React.Fragment>\n  );\n};\n\nexport default BlogRoute;\n"],"sourceRoot":""}